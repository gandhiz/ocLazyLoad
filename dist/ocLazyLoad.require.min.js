/**
 * gandhiz.oclazyload - Load modules on demand (lazy load) with angularJS
 * @version v2.1.1
 * @link https://github.com/gandhiz/ocLazyLoad
 * @license MIT
 * @author Olivier Combe <olivier.combe@gmail.com>
 */
!function(e,n){"use strict";var r=["ng","oc.lazyLoad"],t={},o=[],i=[],a=[],s=[],u=e.noop,d={},c=[],l=e.module("oc.lazyLoad",["ng"]);l.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(l,f,p,m,v,y){function L(n,t,o){if(t){var i,s,l,f=[];for(i=t.length-1;i>=0;i--)if(s=t[i],e.isString(s)||(s=E(s)),s&&-1===c.indexOf(s)&&(!w[s]||-1!==a.indexOf(s))){var h=-1===r.indexOf(s);if(l=g(s),h&&(r.push(s),L(n,l.requires,o)),l._runBlocks.length>0)for(d[s]=[];l._runBlocks.length>0;)d[s].push(l._runBlocks.shift());e.isDefined(d[s])&&(h||o.rerun)&&(f=f.concat(d[s])),j(n,l._invokeQueue,s,o.reconfig),j(n,l._configBlocks,s,o.reconfig),u(h?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s),t.pop(),c.push(s)}var p=n.getInstanceInjector();e.forEach(f,function(e){p.invoke(e)})}}function $(n,r){function o(n,r){var t,o=!0;return r.length&&(t=i(n),e.forEach(r,function(e){o=o&&i(e)!==t})),o}function i(n){return e.isArray(n)?M(n.toString()):e.isObject(n)?M(S(n)):e.isDefined(n)&&null!==n?M(n.toString()):n}var a=n[2][0],s=n[1],d=!1;e.isUndefined(t[r])&&(t[r]={}),e.isUndefined(t[r][s])&&(t[r][s]={});var c=function(e,n){t[r][s].hasOwnProperty(e)||(t[r][s][e]=[]),o(n,t[r][s][e])&&(d=!0,t[r][s][e].push(n),u("ocLazyLoad.componentLoaded",[r,s,e]))};if(e.isString(a))c(a,n[2][1]);else{if(!e.isObject(a))return!1;e.forEach(a,function(n,r){e.isString(n)?c(n,a[1]):c(r,n)})}return d}function j(n,r,t,i){if(r){var a,s,u,d;for(a=0,s=r.length;s>a;a++)if(u=r[a],e.isArray(u)){if(null!==n){if(!n.hasOwnProperty(u[0]))throw new Error("unsupported provider "+u[0]);d=n[u[0]]}var c=$(u,t);if("invoke"!==u[1])c&&e.isDefined(d)&&d[u[1]].apply(d,u[2]);else{var l=function(n){var r=o.indexOf(t+"-"+n);(-1===r||i)&&(-1===r&&o.push(t+"-"+n),e.isDefined(d)&&d[u[1]].apply(d,u[2]))};if(e.isFunction(u[2][0]))l(u[2][0]);else if(e.isArray(u[2][0]))for(var f=0,h=u[2][0].length;h>f;f++)e.isFunction(u[2][0][f])&&l(u[2][0][f])}}}}function E(n){var r=null;return e.isString(n)?r=n:e.isObject(n)&&n.hasOwnProperty("name")&&e.isString(n.name)&&(r=n.name),r}function _(n){if(!e.isString(n))return!1;try{return g(n)}catch(r){if(/No module/.test(r)||r.message.indexOf("$injector:nomod")>-1)return!1}}var w={},O={$controllerProvider:l,$compileProvider:p,$filterProvider:m,$provide:f,$injector:v,$animateProvider:y},x=!1,b=!1,z=[],D={};z.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(n){e.isDefined(n.modules)&&(e.isArray(n.modules)?e.forEach(n.modules,function(e){w[e.name]=e}):w[n.modules.name]=n.modules),e.isDefined(n.debug)&&(x=n.debug),e.isDefined(n.events)&&(b=n.events)},this._init=function(t){if(0===i.length){var o=[t],a=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,d=function(e){return e&&o.push(e)};e.forEach(a,function(n){a[n]=!0,d(document.getElementById(n)),n=n.replace(":","\\:"),"undefined"!=typeof t[0]&&t[0].querySelectorAll&&(e.forEach(t[0].querySelectorAll("."+n),d),e.forEach(t[0].querySelectorAll("."+n+"\\:"),d),e.forEach(t[0].querySelectorAll("["+n+"]"),d))}),e.forEach(o,function(n){if(0===i.length){var r=" "+t.className+" ",o=u.exec(r);o?i.push((o[2]||"").replace(/\s+/g,",")):e.forEach(n.attributes,function(e){0===i.length&&a[e.name]&&i.push(e.value)})}})}0!==i.length||(n.jasmine||n.mocha)&&e.isDefined(e.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");var c=function l(n){if(-1===r.indexOf(n)){r.push(n);var t=e.module(n);j(null,t._invokeQueue,n),j(null,t._configBlocks,n),e.forEach(t.requires,l)}};e.forEach(i,function(e){c(e)}),i=[],s.pop()};var S=function(n){try{return JSON.stringify(n)}catch(r){var t=[];return JSON.stringify(n,function(n,r){if(e.isObject(r)&&null!==r){if(-1!==t.indexOf(r))return;t.push(r)}return r})}},M=function(e){var n,r,t,o=0;if(0==e.length)return o;for(n=0,t=e.length;t>n;n++)r=e.charCodeAt(n),o=(o<<5)-o+r,o|=0;return o};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(n,o,a,d,l){function f(e){var r=l.defer();return n.error(e.message),r.reject(e),r.promise}var p,m=d("ocLazyLoad");return x||(n={},n.error=e.noop,n.warn=e.noop,n.info=e.noop),O.getInstanceInjector=function(){return p?p:p=o.data("$injector")||e.injector()},u=function(e,r){b&&a.$broadcast(e,r),x&&n.info(e,r)},{_broadcast:u,_$log:n,_getFilesCache:function(){return m},toggleWatch:function(e){e?s.push(!0):s.pop()},getModuleConfig:function(n){if(!e.isString(n))throw new Error("You need to give the name of the module to get");return w[n]?e.copy(w[n]):null},setModuleConfig:function(n){if(!e.isObject(n))throw new Error("You need to give the module config object to set");return w[n.name]=n,n},getModules:function(){return r},isLoaded:function(n){var t=function(e){var n=r.indexOf(e)>-1;return n||(n=!!_(e)),n};if(e.isString(n)&&(n=[n]),e.isArray(n)){var o,i;for(o=0,i=n.length;i>o;o++)if(!t(n[o]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:E,_getModule:function(e){try{return g(e)}catch(n){throw(/No module/.test(n)||n.message.indexOf("$injector:nomod")>-1)&&(n.message='The module "'+S(e)+'" that you are trying to load does not exist. '+n.message),n}},moduleExists:_,_loadDependencies:function(n,r){var t,o,i,a=[],s=this;if(n=s._getModuleName(n),null===n)return l.when();try{t=s._getModule(n)}catch(u){return f(u)}return o=s.getRequires(t),e.forEach(o,function(t){if(e.isString(t)){var o=s.getModuleConfig(t);if(null===o)return void z.push(t);t=o,o.name=void 0}if(s.moduleExists(t.name))return i=t.files.filter(function(e){return s.getModuleConfig(t.name).files.indexOf(e)<0}),0!==i.length&&s._$log.warn('Module "',n,'" attempted to redefine configuration for dependency. "',t.name,'"\n Additional Files Loaded:',i),e.isDefined(s.filesLoader)?void a.push(s.filesLoader(t,r).then(function(){return s._loadDependencies(t)})):f(new Error("Error: New dependencies need to be loaded from external files ("+t.files+"), but no loader has been defined."));if(e.isArray(t)){var u=[];e.forEach(t,function(e){var n=s.getModuleConfig(e);null===n?u.push(e):n.files&&(u=u.concat(n.files))}),u.length>0&&(t={files:u})}else e.isObject(t)&&t.hasOwnProperty("name")&&t.name&&(s.setModuleConfig(t),z.push(t.name));if(e.isDefined(t.files)&&0!==t.files.length){if(!e.isDefined(s.filesLoader))return f(new Error('Error: the module "'+t.name+'" is defined in external files ('+t.files+"), but no loader has been defined."));a.push(s.filesLoader(t,r).then(function(){return s._loadDependencies(t)}))}}),l.all(a)},inject:function(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=this,a=l.defer();if(e.isDefined(n)&&null!==n){if(e.isArray(n)){var s=[];return e.forEach(n,function(e){s.push(o.inject(e,r,t))}),l.all(s)}o._addToLoadList(o._getModuleName(n),!0,t)}if(i.length>0){var u=i.slice(),d=function f(e){z.push(e),D[e]=a.promise,o._loadDependencies(e,r).then(function(){try{c=[],L(O,z,r)}catch(e){return o._$log.error(e.message),void a.reject(e)}i.length>0?f(i.shift()):a.resolve(u)},function(e){a.reject(e)})};d(i.shift())}else{if(r&&r.name&&D[r.name])return D[r.name];a.resolve()}return a.promise},getRequires:function(n){var t=[];return e.forEach(n.requires,function(e){-1===r.indexOf(e)&&t.push(e)}),t},_invokeQueue:j,_registerInvokeList:$,_register:L,_addToLoadList:h,_unregister:function(n){e.isDefined(n)&&e.isArray(n)&&e.forEach(n,function(e){t[e]=void 0})}}}],this._init(e.element(n.document))}]);var f=e.bootstrap;e.bootstrap=function(n,l,g){return r=["ng","oc.lazyLoad"],t={},o=[],i=[],a=[],s=[],u=e.noop,d={},c=[],e.forEach(l.slice(),function(e){h(e,!0,!0)}),f(n,l,g)};var h=function(n,r,t){(s.length>0||r)&&e.isString(n)&&-1===i.indexOf(n)&&(i.push(n),t&&a.push(n))},g=e.module;e.module=function(e,n,r){return h(e,!1,!0),g(e,n,r)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(n,r,t,o,i){return{restrict:"A",terminal:!0,priority:1e3,compile:function(i,a){var s=i[0].innerHTML;return i.html(""),function(i,a,u){var d=o(u.ocLazyLoad);i.$watch(function(){return d(i)||u.ocLazyLoad},function(o){e.isDefined(o)&&n.load(o).then(function(){t.enter(s,a),r(a.contents())(i)})},!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval","$http",function(n,r,t,o,i){var a=!1,s=!1,u=t.document.getElementsByTagName("head")[0]||t.document.getElementsByTagName("body")[0];return n.buildElement=function(d,c,l){l.processes||(l.processes=[]);var f,h,g=r.defer(),p=n._getFilesCache(),m=function(e){var n=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+n:e+"&_dc="+n:e+"?_dc="+n};switch(e.isUndefined(p.get(c))&&p.put(c,g.promise),d){case"css":l.defer?f=t.document.createElement("style"):(f=t.document.createElement("link"),f.type="text/css",f.rel="stylesheet",f.href=l.cache===!1?m(c):c);break;case"js":f=t.document.createElement("script"),l.defer||(f.src=l.cache===!1?m(c):c);break;default:p.remove(c),g.reject(new Error('Requested type "'+d+'" is not known. Could not inject "'+c+'"'))}var v=function(){var n=u.lastChild;if(l.insertBefore){var r=e.element(e.isDefined(window.jQuery)?l.insertBefore:document.querySelector(l.insertBefore));r&&r.length>0&&(n=r[0])}n.parentNode.insertBefore(f,n)};if(l.defer?i.get(c).then(function(e){l.processes[c]={data:e.data,element:f,insertDomElement:v},h=1,n._broadcast("ocLazyLoad.fileLoaded",c),g.resolve(f)})["catch"](function(e){p.remove(c),g.reject(new Error("Unable to load "+c))}):(f.onload=f.onreadystatechange=function(e){f.readyState&&!/^c|loade/.test(f.readyState)||h||(f.onload=f.onreadystatechange=null,h=1,n._broadcast("ocLazyLoad.fileLoaded",c),g.resolve(f))},f.onerror=function(){p.remove(c),g.reject(new Error("Unable to load "+c))}),l.serie||l.defer||l.defer2||(f.async=1),l.defer2&&(f.defer=1),l.defer||v(),"css"==d){if(!a){var y=t.navigator.userAgent.toLowerCase();if(y.indexOf("phantomjs/1.9")>-1)s=!0;else if(/iP(hone|od|ad)/.test(t.navigator.platform)){var L=t.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),$=parseFloat([parseInt(L[1],10),parseInt(L[2],10),parseInt(L[3]||0,10)].join("."));s=6>$}else if(y.indexOf("android")>-1){var j=parseFloat(y.slice(y.indexOf("android")+8));s=4.4>j}else if(y.indexOf("safari")>-1){var E=y.match(/version\/([\.\d]+)/i);s=E&&E[1]&&parseFloat(E[1])<6}}if(s)var _=1e3,w=o(function(){try{f.sheet.cssRules,o.cancel(w),f.onload()}catch(e){--_<=0&&f.onerror()}},20)}return g.promise},n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.filesLoader=function(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=[],a=[],s=[],u=[],d=null,c=n._getFilesCache();n.toggleWatch(!0),e.extend(o,t);var l=function(r){var t,l=null;if(e.isObject(r)&&(l=r.type,r=r.path),d=c.get(r),e.isUndefined(d)||o.cache===!1){if(null!==(t=/^(css|less|html|htm|js)?(?=!)/.exec(r))&&(l=t[1],r=r.substr(t[1].length+1,r.length)),!l)if(null!==(t=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(r)))l=t[1];else{if(n.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!n.jsLoader.hasOwnProperty("requirejs"))return void n._$log.error("File type could not be determined. "+r);l="js"}"css"!==l&&"less"!==l||-1!==i.indexOf(r)?"html"!==l&&"htm"!==l||-1!==a.indexOf(r)?"js"===l||-1===s.indexOf(r)?s.push(r):n._$log.error("File type is not valid. "+r):a.push(r):i.push(r)}else d&&u.push(d)};if(o.serie?l(o.files.shift()):e.forEach(o.files,function(e){l(e)}),i.length>0){var f=r.defer();n.cssLoader(i,function(r){e.isDefined(r)&&n.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(n._$log.error(r),f.reject(r)):f.resolve()},o),u.push(f.promise)}if(a.length>0){var h=r.defer();n.templatesLoader(a,function(r){e.isDefined(r)&&n.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(n._$log.error(r),h.reject(r)):h.resolve()},o),u.push(h.promise)}if(s.length>0){var g=r.defer();n.jsLoader(s,function(r){e.isDefined(r)&&(n.jsLoader.hasOwnProperty("ocLazyLoadLoader")||n.jsLoader.hasOwnProperty("requirejs"))?(n._$log.error(r),g.reject(r)):g.resolve()},o),u.push(g.promise)}if(0===u.length){var p=r.defer(),m="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return n._$log.error(m),p.reject(m),p.promise}return o.serie&&o.files.length>0?r.all(u).then(function(){return n.filesLoader(t,o)}):o.defer&&o.files.length>0?r.all(u).then(function(){return n.appendDeferedJsFiles(t,o)}):r.all(u)["finally"](function(e){return n.toggleWatch(!1),e})},n.load=function(t){var o,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=this,s=null,u=[],d=r.defer(),c=e.copy(t),l=e.copy(i);if(e.isArray(c))return e.forEach(c,function(e){u.push(a.load(e,l))}),r.all(u).then(function(e){d.resolve(e)},function(e){d.reject(e)}),d.promise;if(e.isString(c)?(s=a.getModuleConfig(c),s||(s={files:[c]})):e.isObject(c)&&(s=e.isDefined(c.path)&&e.isDefined(c.type)?{files:[c]}:a.setModuleConfig(c)),null===s){var f=a._getModuleName(c);return o='Module "'+(f||"unknown")+'" is not configured, cannot load.',n._$log.error(o),d.reject(new Error(o)),d.promise}e.isDefined(s.template)&&(e.isUndefined(s.files)&&(s.files=[]),e.isString(s.template)?s.files.push(s.template):e.isArray(s.template)&&s.files.concat(s.template));var h=e.extend({},l,s);return e.isUndefined(s.files)&&e.isDefined(s.name)&&n.moduleExists(s.name)?n.inject(s.name,h,!0):(n.filesLoader(s,h).then(function(){n.inject(null,h).then(function(e){d.resolve(e)},function(e){d.reject(e)})},function(e){d.reject(e)}),d.promise)},n.appendDeferedJsFiles=function(n,r){r.processes&&e.forEach(r.files,function(e){var n=r.processes[e];n&&(n.element.appendChild(document.createTextNode(n.data)),n.insertDomElement())})},n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$q",function(n,r){return n.cssLoader=function(t,o,i){var a=[];e.forEach(t,function(e){a.push(n.buildElement("css",e,i))}),r.all(a).then(function(){o()},function(e){o(e)})},n.cssLoader.ocLazyLoadLoader=!0,n}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(e){e.decorator("$ocLazyLoad",["$delegate","$q",function(e,n){return e.jsLoader=function(e,n,r){require(e,n.bind(null,void 0),n,r)},e.jsLoader.requirejs=!0,e}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(n){n.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(n,r,t,o){return n.templatesLoader=function(i,a,s){var u=[],d=n._getFilesCache();return e.forEach(i,function(n){var i=t.defer();u.push(i.promise),o.get(n,s).then(function(t){var o=t.data;e.isString(o)&&o.length>0&&e.forEach(e.element(o),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&r.put(e.id,e.innerHTML)}),e.isUndefined(d.get(n))&&d.put(n,!0),i.resolve()})["catch"](function(e){i.reject(new Error('Unable to load template file "'+n+'": '+e.data))})}),t.all(u).then(function(){a()},function(e){a(e)})},n.templatesLoader.ocLazyLoadLoader=!0,n}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,n){var r;if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if(0===o)return-1;var i=+n||0;if(Math.abs(i)===1/0&&(i=0),i>=o)return-1;for(r=Math.max(i>=0?i:o-Math.abs(i),0);o>r;){if(r in t&&t[r]===e)return r;r++}return-1});